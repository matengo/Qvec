- [x] **Guid som dokument-ID** — Implementera `Guid`-baserade dokument-ID:n för att möjliggöra synk mellan databaser. Designdokument: [docs/design-guid-id.md](docs/design-guid-id.md)
- [x] Lägg till Guid-sektion i filformatet (16 bytes/post efter metadata-sektionen)
- [x] Nya fält: `_guidSectionOffset`, `_guidIndex` dictionary
- [x] `WriteGuidToDisk` / `ReadGuidFromDisk` metoder
- [x] `RebuildGuidIndex` vid uppstart
- [x] Ändra `AddEntry` att returnera `Guid` och stödja `externalId`-parameter
- [x] Dedup-logik: hoppa över om Guid redan finns
- [x] Ändra alla `Search`-metoder att returnera `Guid` istället för `int` i resultat
- [x] `GetByGuid` lookup-metod
- [x] `SyncFrom(QvecDatabase source)` metod
- [x] Uppdatera `PartitionedQvecDatabase` att propagera Guid
- [x] Uppdatera `QvecClient<T>` returtyper
- [x] Uppdatera API-endpoints
- [x] Bakåtkompatibilitet: auto-migrering av v1-filer
  - [x] Bumpa `DbHeader.Version` till 2
  - [ ] Uppdatera tester
- [ ] **Delete** — Implementera soft-delete med tombstone-baserad strategi. Designdokument: [docs/design-update-delete.md](docs/design-update-delete.md)
  - [ ] Lägg till tombstone-sektion i filformatet (1 byte/post efter Guid-sektionen)
  - [ ] Nytt fält `DeletedCount` i `DbHeader`
  - [ ] In-memory `_deletedIndices` HashSet, laddas vid uppstart
  - [ ] `Delete(Guid id)` — markera tombstone, rensa grannreferenser i HNSW-grafen
  - [ ] `DisconnectNode` — nollställ borttagen nods grannar och ta bort inkommande referenser
  - [ ] `RemoveNeighborReference` — ta bort specifik nod ur en annan nods grannlista
  - [ ] Hantera EntryPoint-migration vid delete av EntryPoint-nod
  - [ ] Filtrera bort tombstones i alla sökmetoder (`Search`, `SearchSimple`, `SearchSimpleParallel`)
  - [ ] Filtrera bort tombstones i `CalculateScore` / `SearchLayerNearest`
  - [ ] Uppdatera `PartitionedQvecDatabase` med `Delete`
  - [ ] Uppdatera `QvecClient<T>` med `DeleteEntry`
  - [ ] Lägg till `DELETE /vectors/{guid}` endpoint i API
  - [ ] Tester för delete, grannintegritet, EntryPoint-migration
- [ ] **Update** — Implementera uppdatering av vektor och/eller metadata. Designdokument: [docs/design-update-delete.md](docs/design-update-delete.md)
  - [ ] `UpdateMetadata(Guid id, string newMetadata)` — in-place överskrivning av metadata-slot
  - [ ] `UpdateVector(Guid id, float[] newVector)` — soft-delete + re-insert med samma Guid
  - [ ] `Update(Guid id, float[] newVector, string newMetadata)` — kombinerad metod
  - [ ] Uppdatera `PartitionedQvecDatabase` med `Update`
  - [ ] Uppdatera `QvecClient<T>` med `UpdateEntry`
  - [ ] Lägg till `PUT /vectors/{guid}` endpoint i API
  - [ ] Tester för metadata-update, vektor-update, kombinerad update
- [ ] **Vacuum / Kompaktering** — Återvinn lagring efter många deletes. Designdokument: [docs/design-update-delete.md](docs/design-update-delete.md)
  - [ ] `Vacuum()` — skapa ny fil, kopiera aktiva poster, bygg om HNSW-graf
  - [ ] Auto-vacuum trigger vid `DeletedCount / CurrentCount > threshold`
  - [ ] Tester för vacuum, verifiering av data-integritet efter kompaktering
- [ ] **Sync Engine** — Opt-in edge-cloud synkronisering för flera lokala Qvec-databaser. Designdokument: [docs/design-sync-engine.md](docs/design-sync-engine.md)
  - [ ] Nytt projekt `Qvec.Sync` (klient-sida, refererar `Qvec.Core`)
    - [ ] `SyncEvent` / `SyncEventHeader` — binärt eventformat (Add, UpdateVector, UpdateMetadata, Delete)
    - [ ] `SyncState` — lokal offset-tracking, persisteras till disk
    - [ ] `SyncOptions` — konfiguration (ServerUrl, TransportType, ConnectionString, StateFilePath)
    - [ ] `ISyncTransport` — abstrakt transport-interface (Send, Subscribe, PullDelta)
    - [ ] `WebPubSubTransport` — Azure Web PubSub implementation
    - [ ] `SseTransport` — Server-Sent Events implementation
    - [ ] `WebSocketTransport` — Raw WebSocket implementation
    - [ ] `QvecSyncAgent` — huvudklass som wrappar `QvecDatabase`
      - [ ] `StartAsync` — initial catch-up (PullDelta) + starta realtidsprenumeration
      - [ ] `AddEntryAsync` — lokal skrivning + outbound event till server
      - [ ] `UpdateAsync` — lokal uppdatering + outbound event till server
      - [ ] `DeleteAsync` — lokal delete + outbound event till server
      - [ ] `OnRemoteEvent` — applicera inkommande events lokalt (idempotent via Guid)
      - [ ] Outbound event queue med retry-logik för offline-scenarier
    - [ ] Tester för SyncAgent, delta-sync, reconnect catch-up, dedup
  - [ ] Nytt projekt `Qvec.Sync.Server` (server-sida, Azure Function relay)
    - [ ] `POST /events` — ta emot event, skriva till Append Blob, notifiera via Web PubSub
    - [ ] `GET /delta?from={offset}` — returnera events sedan offset via Range Request
    - [ ] `GET /status` — blob-storlek och antal anslutna klienter
    - [ ] Konfliktstrategi: Last-Write-Wins (LWW) baserat på Append Blob-ordning
    - [ ] Tester för server-endpoints, concurrent appends, delta-requests